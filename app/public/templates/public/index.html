{% extends 'base/base.html' %}

{% block title %}Index{% endblock title %}


{% block content %}
    <div class="container-sm  container-tasks">
        <table class="table table-dark">
            <thead>
                <tr>
                    <th class="col-header-1" scope="col">Done</th>
                    <th class="col-header-2" scope="col">Name - Description</th>
                    <th class="col-header-3" scope="col">Date Start</th>
                    <th class="col-header-4" scope="col">Date End</th>
                    <th class="col-header-5" scope="col">Category</th>
                    <th class="col-header-6" scope="col">Priority</th>
                    <th class="col-header-7" scope="col">Edit</th>
                </tr>
            </thead>
                <tbody>
                    {% for task in tasks %}
                        <tr id="i-rows">
                            <td id="i-col-done" scope="row">
                                <input type="checkbox" onclick="done_task('{{ task.id }}', '{{ task.done }}')" id="btn-done{{ task.id }}" aria-label="Checkbox for following text input">
                            </td>
                            <td id="i-col-info" scope="row" id="info-task" onclick="muestramensaje('{{ variable }}')">
                                <div class="contenedor">
                                    <h6 class="i-table-info-title">{{ task.title }}</h6>
                                    <p class="i-table-info-description">
                                        <small>{{ task.description }}</small>
                                    </p>
                                </div>
                            </td>
                            <td id="i-col-date-start" scope="row">
                                <p class="data-start">{{ task.date_create }}</p>
                                <p class="data-start-info">
                                    <small>{{ "Description info" }}</small>
                                </p>
                            </td>
                            <td id="i-col-date-end" scope="row">
                                <p class="data-end">{{ task.date_todo }}</p>
                                <p class="data-end-info">
                                    <small>{{ "Description info" }}</small>
                                </p>
                            </td>
                            <td id="i-col-deports" scope="row">
                                <p class="deports-info">{{ task.category.name_category }}</p>
                            </td>
                            <td id="i-col-priority" scope="row">
                                <p class="priority-info">{{ task.priority.name_priority }}</p>
                            </td>
                            <td id="i-col-delete-modify" scope="row">
                                <!-- Mandamos el id de task, para que EDIT_TASK, recupere los datos de la tarea especifica
                                    y los mande a el formulario, para que puedan ser modificados: -->
                                <a href="{{ url_for('public.edit_task', id_task=task.id) }}" class="font-weight-bolder i-col-dm-btn-edit">Edit</a>

                                <a onclick="delete_task('{{ task.id }}')" href="" id="btn-delete{{ task.id }}" class="font-weight-bolder i-col-dm-btn-delete">Delete</a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
        </table>
    </div>


{% endblock content %}